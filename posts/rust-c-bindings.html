<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Preston Carpenter's Blog | RiiR considered harmful</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="RiiR considered harmful">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://timidger.github.io/posts/rust-c-bindings">
  <meta property="og:description" content="">
  <meta property="og:site_name" content="Preston Carpenter's Blog">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://timidger.github.io/posts/rust-c-bindings">
  <meta name="twitter:title" content="RiiR considered harmful">
  <meta name="twitter:description" content="">

  <script src="/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="/assets/github-gist.css">

  
    <meta property="og:image" content="https://timidger.github.io/assets/og-image-320f734dc884fca2d8368814463f1ec289845c516c0cd19e0fba5c8cfb00e0c5.jpg">
    <meta name="twitter:image" content="https://timidger.github.io/assets/og-image-320f734dc884fca2d8368814463f1ec289845c516c0cd19e0fba5c8cfb00e0c5.jpg">
  

  <link href="https://timidger.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Preston Carpenter's Blog Last 10 blog posts" />

  
    <link rel="stylesheet" type="text/css" href="/assets/fonts-85dab368d056b5d66418fbfd7e55a89f34f644ee811c8218c81017204426121b.css">
  

  
    <link rel="icon" type="image/x-icon" href="/assets/favicon-light-4167286c71b2bcbed36873cf63f61c0fffe83eb8f4accb4b425e2b32ab8d49c1.ico">
    <link rel="stylesheet" type="text/css" href="/assets/light-8fb36de5e021f66d46e89725d6a0fb4f4548852c0fc5f154cc1a562427fbf507.css">
  
</head>

<body>
  <main>
    <div class="main-layout">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
    <div class="grid-cell">
      <div class="main-content top-bit">
        <div class="grid-centered grid-cell main-content">
          <a href="/" class="header-logo" title="Preston Carpenter's Blog" style="">
            Preston Carpenter's Blog
          </a>
        </div>
        <div class="grid-cell upper-links-cell">
          <ul class="header-links">
              
              <li>
                  <a href="/about" title="About me">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

                  </a>
              </li>
              
              
              <li>
                  <a href="https://twitter.com/timidger" rel="noreferrer noopener" target="_blank" title="Twitter">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              <li>
                  <a href="https://github.com/timidger" rel="noreferrer noopener" target="_blank" title="GitHub">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              <li>
                  <a href="https://stackoverflow.com/users/1772476/timidger" rel="noreferrer noopener" target="_blank" title="Stack Overflow">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-stackoverflow">
  <use href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow" xlink:href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              <li>
                  <a href="https://www.linkedin.com/in/timidger" rel="noreferrer noopener" target="_blank" title="LinkedIn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              
              
              
              
              
              
              
              
              
              <li>
                  <a href="mailto:APragmaticPlace@gmail.com" title="Email">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

                  </a>
              </li>
              
              
          </ul>
        </div>
      </div>
  </div>
</nav>

          <div class="main-content">
            <div class="grid-cell grid-centered main-content">
              <article class="article scrollappear">
                <header class="article-header">
                  <h1>RiiR considered harmful</h1>
                  <p></p>
                  <div class="article-list-footer">
                    <span class="article-list-date">
                      April 10, 2019
                    </span>
                    <span class="article-list-divider">-</span>
                    <span class="article-list-minutes">
                      
                      
                        2 minute read
                      
                    </span>
                    <span class="article-list-divider">-</span>
                    <div class="article-list-tags">
                      
                    </div>
                  </div>
                </header>

                <div class="article-content">
                  <p>This paper was originally written for a class while I was attending University.</p>

<p>It was written about the Rust programming language and talked about an issue
that I have not seen gain traction anywhere else. It posits that rewriting
libraries that are originally written in C to Rust (RiiR) is a bad engineering
decision and that instead programmers should strive to write bindings to the C
library.</p>

<p>I recognize that this is a difficult undertaking due to how Rust is designed to
be memory safe. I give examples of well done C binding libraries, such as rlua,
and talk about my experiences with wlroots-rs, which are bindings to the wlroots
library that I wrote my self.</p>

<p>Since I wrote this piece I have had a slight change of heart. C bindings are the
right thing to do, but they are so horribly boring and difficult they are not
worth doing. If you are writing a program and you think Rust is a good fit, it’s
only a good fit if the libraries you want to use are wrapped or implemented in
Rust. If bindings or a RiiR library does not exist, then you are better off just
using C. Maintaining bindings for any non-trivial C library is a full time job
and usually tangential to the goal you actually want to achieve.</p>

<p>Personally speaking, I don’t think that something is objectively better just
because it’s written in Rust. That’s not a feature to me, just an implementation
detail, and undue effort should not be done just so that Rust can be used if it
is not going to make the program better.</p>

<p>I will be making a bigger blog post about this later as this will affect my
design of Way Cooler and have ramifications for wlroots-rs.</p>

<p><a href="../riir-considered-harmful.pdf">RiiR Considered Harmful: Just Bind to C
Libraries</a></p>

                </div>
                <div class="article-share">
                  
                  
                  <a href="https://twitter.com/home?status=RiiR+considered+harmful%20-%20https://timidger.github.io/posts/rust-c-bindings%20by%20@timidger" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
                    <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
                  </a>
                  <a href="https://www.facebook.com/sharer/sharer.php?u=https://timidger.github.io/posts/rust-c-bindings" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
                    <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
                  </a>
                  <a href="https://plus.google.com/share?url=https://timidger.github.io/posts/rust-c-bindings" title="Share on Google+" rel="noreferrer noopener" target="_blank">
                    <svg viewBox="0 0 128 128"><path d="M40.7 55.9v16.1c0 0 15.6 0 22 0C59.2 82.5 53.8 88.2 40.7 88.2c-13.3 0-23.7-10.8-23.7-24.2s10.4-24.2 23.7-24.2c7.1 0 11.6 2.5 15.8 5.9 3.3-3.3 3.1-3.8 11.6-11.9 -7.2-6.6-16.8-10.6-27.4-10.6C18.2 23.3 0 41.5 0 64c0 22.5 18.2 40.7 40.7 40.7 33.6 0 41.8-29.3 39-48.8H40.7zM113.9 56.7V42.6h-10.1v14.1H89.4v10.1h14.5v14.5h10.1V66.8H128V56.7H113.9z"/></svg>
                  </a>
                </div>

                
              </article>
            </div>
            <div class="grid-cell links-cell side-bar upper-links-cell">
              <div class="link-listing" style="overflow: hidden">
    <h4><a class="side-link-special" href="/about.html">About me</a></h4>
    <h4><a class="side-link-special" href="https://github.com/Timidger/resume/raw/master/resume.pdf" >My resume</a></h4>
    <h4><a class="side-link-special" href="/projects" >My projects</a></h4>
    <h4>Posts:</h4>
    <ul class="side-links">
        
        
            <li><a href="/posts/rust-c-bindings" title="RiiR considered harmful">RiiR considered harmful</a></li>
        
        
        
        
        
            <li><a href="/posts/programming-big" title="Big Programming">Big Programming</a></li>
        
        
        
            <li><a href="/posts/designing-a-bi-mutable-directional-tree-safely-in-rust" title="Designing a mutable bi-directional tree safely in Rust">Designing a mutable bi-directional tree safely in Rust</a></li>
        
        
    </ul>
</div>

            </div>
          </div>
        <footer class="footer scrollappear">
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113741520-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-113741520-1');
  </script>


<script type="text/javascript" src="/assets/vendor-2e5becc015a837c852edabccbc32f5a390d4afa7a2ca601db948ea5b9e50292a.js"></script>




  <script type="text/javascript" src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js"></script>


<script type="text/javascript" src="/assets/application-cd43a7f9bd8a08997bb19229cd040e7129ede0a1adf77c693b5835c9f8c2a4b1.js"></script>

</body>
</html>

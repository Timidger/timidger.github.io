<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Preston Carpenter's Blog | The Cost of Moving Fast</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="The Cost of Moving Fast">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://timidger.github.io/posts/the-cost-of-moving-fast">
  <meta property="og:description" content="">
  <meta property="og:site_name" content="Preston Carpenter's Blog">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://timidger.github.io/posts/the-cost-of-moving-fast">
  <meta name="twitter:title" content="The Cost of Moving Fast">
  <meta name="twitter:description" content="">

  <script src="/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="/assets/github-gist.css">

  
    <meta property="og:image" content="https://timidger.github.io/assets/og-image-320f734dc884fca2d8368814463f1ec289845c516c0cd19e0fba5c8cfb00e0c5.jpg">
    <meta name="twitter:image" content="https://timidger.github.io/assets/og-image-320f734dc884fca2d8368814463f1ec289845c516c0cd19e0fba5c8cfb00e0c5.jpg">
  

  <link href="https://timidger.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Preston Carpenter's Blog Last 10 blog posts" />

  
    <link rel="stylesheet" type="text/css" href="/assets/fonts-85dab368d056b5d66418fbfd7e55a89f34f644ee811c8218c81017204426121b.css">
  

  
    <link rel="icon" type="image/x-icon" href="/assets/favicon-light-4167286c71b2bcbed36873cf63f61c0fffe83eb8f4accb4b425e2b32ab8d49c1.ico">
    <link rel="stylesheet" type="text/css" href="/assets/light-8fb36de5e021f66d46e89725d6a0fb4f4548852c0fc5f154cc1a562427fbf507.css">
  
</head>

<body>
  <main>
    <div class="main-layout">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
    <div class="grid-cell">
      <div class="main-content top-bit">
        <div class="grid-centered grid-cell main-content">
          <a href="/" class="header-logo" title="Preston Carpenter's Blog" style="">
            Preston Carpenter's Blog
          </a>
        </div>
        <div class="grid-cell upper-links-cell">
          <ul class="header-links">
              
              <li>
                  <a href="/about" title="About me">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

                  </a>
              </li>
              
              
              <li>
                  <a href="https://twitter.com/timidger" rel="noreferrer noopener" target="_blank" title="Twitter">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              <li>
                  <a href="https://github.com/timidger" rel="noreferrer noopener" target="_blank" title="GitHub">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              <li>
                  <a href="https://stackoverflow.com/users/1772476/timidger" rel="noreferrer noopener" target="_blank" title="Stack Overflow">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-stackoverflow">
  <use href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow" xlink:href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              <li>
                  <a href="https://www.linkedin.com/in/timidger" rel="noreferrer noopener" target="_blank" title="LinkedIn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

                  </a>
              </li>
              
              
              
              
              
              
              
              
              
              
              
              
              
              <li>
                  <a href="mailto:APragmaticPlace@gmail.com" title="Email">
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

                  </a>
              </li>
              
              
          </ul>
        </div>
      </div>
  </div>
</nav>

          <div class="main-content">
            <div class="grid-cell grid-centered main-content">
              <article class="article scrollappear">
                <header class="article-header">
                  <h1>The Cost of Moving Fast</h1>
                  <p></p>
                  <div class="article-list-footer">
                    <span class="article-list-date">
                      May 11, 2018
                    </span>
                    <span class="article-list-divider">-</span>
                    <span class="article-list-minutes">
                      
                      
                        4 minute read
                      
                    </span>
                    <span class="article-list-divider">-</span>
                    <div class="article-list-tags">
                      
                    </div>
                  </div>
                </header>

                <div class="article-content">
                  <p>Rust <a href="https://blog.rust-lang.org/2018/05/10/Rust-1.26.html">recently released version 1.26</a> and with it a big change that has been in the pipeline quite a while: <a href="https://github.com/rust-lang/rust/issues/34511">impl Trait syntax</a>.</p>

<p>I won’t go into the change itself (as it’s a little involved, especially if you don’t know Rust) and I won’t give my opinion of the change because I haven’t actually tried it yet so I don’t know if it’s a net win for the language yet.</p>

<p>What I’m going to talk today is the programmer overhead resulting from changes like this.</p>

<h2 id="the-changing-language-landscape">The (changing) Language Landscape</h2>
<p>Most languages have and will continue to change.<sup><a href="#most-languages" name="most-languages-back">1</a></sup> You have different amounts of change at different rates of change.</p>

<p>If you plotted them, you’d find that C is on one far end of the spectrum (They come out with a standard basically once a decade, and the changes are pretty small for the most part) and Rust being way on the other (with a new minor release every 6 weeks).</p>

<p>When you write some code in C, assuming the business needs don’t need to change, you can assume it will still be just as idiomatic ten years after you write it. That’s not to say there’s one right way™, of course, but compared to other languages the quality of C code isn’t traced with what language features the programmer used but rather by the standards of engineering that were in place at the time (and place) the code was written.</p>

<p>In other languages however, you will find that there’s “old code” that, while not incorrect architecturally or logically, is using old “bad” features. Not using context managers in C# or Python is an example of “old code”. The version that has these shiny new features is still backwards compatible with that old “bad” code. This is often touted as a feature.</p>

<p>Often time that backwards compatibility is broken, often to the detriment of companies still using that old “bad” code. The Python 2/3 split is an obvious example of this. A less obvious example is C and C++.<sup><a href="#c-is-not-c++" name="c-is-not-c++-back">2</a></sup> These big changes are where the most API churn happens and thus are thankfully several years apart to allow programmers to catch up.</p>

<h2 id="rust-and-api-stability">Rust and API Stability</h2>
<p>The Rust team has done a tremendous job in sticking to their backwards compatibility policy. I personally have never had a build break because rustc or cargo updated because any backwards compatible changes are communicated very loudly via warnings and are few and far between.</p>

<p>What <em>has</em> happened though is that “idiomatic” Rust has been a constantly moving target. Which is very frustrating as a programmer with not a lot of time after work.</p>

<p>Part of this is due to the language still being new and thus there needs to be time until patterns emerge and spread across the community to form an “idiomatic” style. Already there’s very good practices that are mostly adhered to, the biggest one being only taking ownership when it’s necessary and using <code class="highlighter-rouge">&amp;[]</code> instead of <code class="highlighter-rouge">&amp;Vec</code> and <code class="highlighter-rouge">&amp;str</code> instead of <code class="highlighter-rouge">&amp;String</code>. There’s still issues with unsafe crates and their guarantees, but that’s a hard problem and not really affected by what I want to talk about today.</p>

<p>With the latest change however lots of libraries have now become “old” code because they don’t use the <code class="highlighter-rouge">impl Trait</code> syntax. They may still compile, but no one would really write it with the old style because it’s just gross and the new style makes a much nicer API<sup><a href="#impl-trait-is-bad" name="impl-trait-is-bad-back">3</a></sup>.</p>

<p>This may not seem like a huge problem when viewed in the micro, but it becomes a huge problem when viewed in the macro.</p>

<h3 id="a-fledgling-ecosystem-constantly-kneecapped">A fledgling ecosystem constantly kneecapped</h3>
<p>Quite a few Rust crates are not 1.0 stable. This is a problem that has been addressed before, but it’s made much worse by the constant API churn. The Rust developers are good at sticking to semvar, but crate maintainers are not. Even when they are, if you are below 1.0 you can make any breaking change you want in a minor bump.</p>

<p>When the <code class="highlighter-rouge">?</code> syntax stabilized most crates flocked to it, leaving the ones that didn’t forced to update their compilers and stick with their “old” code. And this is a simple, non API breaking change. On the other side you have things like lack of NLL, which requires restructuring your code just to get it to compile and is sorely needed, and <code class="highlighter-rouge">impl Trait</code> syntax, both of which causes huge changes how Rust code is written and, once released, will need the old crates to either update their minimal compiler versions when their dependencies leave them behind and (eventually) rewrite their “old” code to fit this new standard.</p>

<hr />
<p><sup><a href="#most-languages-back" name="most-languages">1</a></sup> Unless you’re talking about COBOL of course.</p>

<p><sup><a href="#c-is-not-c++-back" name="c-is-not-c++">2</a></sup> C is <strong>not</strong> a subset of C++. They are entirely different languages. As well, “idiomatic” C++ changes depending on what version you are running (pre C++11 vs C++11 vs C++17).</p>

<p><sup><a href="#impl-trait-is-bad-back" name="impl-trait-is-bad">3</a></sup> I actually have issues with <code class="highlighter-rouge">impl Trait</code>. As a return value it makes it hard to store in a struct without using polluting generics (or Boxing, which is what we are trying to avoid). Furthermore, using it in parameter variables is objectively worse because you lose the turbofish syntax.</p>

                </div>
                <div class="article-share">
                  
                  
                  <a href="https://twitter.com/home?status=The+Cost+of+Moving+Fast%20-%20https://timidger.github.io/posts/the-cost-of-moving-fast%20by%20@timidger" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
                    <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
                  </a>
                  <a href="https://www.facebook.com/sharer/sharer.php?u=https://timidger.github.io/posts/the-cost-of-moving-fast" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
                    <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
                  </a>
                  <a href="https://plus.google.com/share?url=https://timidger.github.io/posts/the-cost-of-moving-fast" title="Share on Google+" rel="noreferrer noopener" target="_blank">
                    <svg viewBox="0 0 128 128"><path d="M40.7 55.9v16.1c0 0 15.6 0 22 0C59.2 82.5 53.8 88.2 40.7 88.2c-13.3 0-23.7-10.8-23.7-24.2s10.4-24.2 23.7-24.2c7.1 0 11.6 2.5 15.8 5.9 3.3-3.3 3.1-3.8 11.6-11.9 -7.2-6.6-16.8-10.6-27.4-10.6C18.2 23.3 0 41.5 0 64c0 22.5 18.2 40.7 40.7 40.7 33.6 0 41.8-29.3 39-48.8H40.7zM113.9 56.7V42.6h-10.1v14.1H89.4v10.1h14.5v14.5h10.1V66.8H128V56.7H113.9z"/></svg>
                  </a>
                </div>

                
              </article>
            </div>
            <div class="grid-cell links-cell side-bar upper-links-cell">
              <div class="link-listing" style="overflow: hidden">
    <h4><a class="side-link-special" href="/about.html">About me</a></h4>
    <h4><a class="side-link-special" href="https://github.com/Timidger/resume/raw/master/resume.pdf" >My resume</a></h4>
    <h4><a class="side-link-special" href="/projects" >My projects</a></h4>
    <h4>Posts:</h4>
    <ul class="side-links">
        
        
            <li><a href="/posts/rust-c-bindings" title="RiiR considered harmful">RiiR considered harmful</a></li>
        
        
        
        
        
            <li><a href="/posts/programming-big" title="Big Programming">Big Programming</a></li>
        
        
        
            <li><a href="/posts/designing-a-bi-mutable-directional-tree-safely-in-rust" title="Designing a mutable bi-directional tree safely in Rust">Designing a mutable bi-directional tree safely in Rust</a></li>
        
        
    </ul>
</div>

            </div>
          </div>
        <footer class="footer scrollappear">
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113741520-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-113741520-1');
  </script>


<script type="text/javascript" src="/assets/vendor-2e5becc015a837c852edabccbc32f5a390d4afa7a2ca601db948ea5b9e50292a.js"></script>




  <script type="text/javascript" src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js"></script>


<script type="text/javascript" src="/assets/application-cd43a7f9bd8a08997bb19229cd040e7129ede0a1adf77c693b5835c9f8c2a4b1.js"></script>

</body>
</html>
